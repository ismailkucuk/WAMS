<UserControl x:Class="wam.Pages.SettingsPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:controls="clr-namespace:wam.Controls"
	xmlns:local="clr-namespace:wam.Pages"
	mc:Ignorable="d"
	d:DesignHeight="900" d:DesignWidth="1400"
	Background="{DynamicResource BackgroundPage}">

	<UserControl.Resources>
		<Style x:Key="CleanCard" TargetType="Border">
			<Setter Property="Background" Value="{DynamicResource BackgroundWhite}"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="24"/>
			<Setter Property="Margin" Value="0,0,0,20"/>
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect ShadowDepth="1" Direction="270" Color="{DynamicResource ShadowColor}" Opacity="0.08" BlurRadius="12"/>
				</Setter.Value>
			</Setter>
		</Style>
		<Style x:Key="SectionHeader" TargetType="TextBlock">
			<Setter Property="FontFamily" Value="Segoe UI"/>
			<Setter Property="FontSize" Value="18"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Foreground" Value="{DynamicResource TextColorPrimary}"/>
			<Setter Property="Margin" Value="0,0,0,16"/>
		</Style>

		<!-- Button Styles (project-wide look) -->
		<Style x:Key="PrimaryButton" TargetType="Button">
			<Setter Property="Background" Value="{DynamicResource AccentColor}"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="12,8"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="bd" Property="Background" Value="{DynamicResource PrimaryButtonHover}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="bd" Property="Opacity" Value="0.92"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<Style x:Key="SecondaryButton" TargetType="Button">
			<Setter Property="Background" Value="{DynamicResource BackgroundWhite}"/>
			<Setter Property="Foreground" Value="{DynamicResource TextColorPrimary}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="12,8"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="bd" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6" Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="bd" Property="Background" Value="{DynamicResource SecondaryButtonHover}"/>
								<Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="bd" Property="Background" Value="{DynamicResource SecondaryButtonPressed}"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</UserControl.Resources>

	<ScrollViewer VerticalScrollBarVisibility="Auto" Background="Transparent">
		<Grid Margin="32">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<!-- Export kaldırıldı -->

			<StackPanel Grid.Row="1">
				<TextBlock Text="Uygulama Ayarları" Style="{StaticResource SectionHeader}"/>

				<Border Style="{StaticResource CleanCard}">
					<StackPanel>
						<TextBlock Text="Genel" FontFamily="Segoe UI" FontSize="14" FontWeight="SemiBold" Foreground="{DynamicResource TextColorSecondary}"/>
						
						<!-- Tema Seçimi -->
						<StackPanel Orientation="Horizontal" Margin="0,12,0,0" VerticalAlignment="Center">
							<TextBlock Text="Karanlık Tema" VerticalAlignment="Center" Margin="0,0,12,0" FontFamily="Segoe UI" FontSize="14" Foreground="{DynamicResource TextColorPrimary}"/>
							<ToggleButton x:Name="TglDarkTheme" Width="54" Height="28" Cursor="Hand">
								<ToggleButton.Template>
									<ControlTemplate TargetType="ToggleButton">
										<Grid>
											<Border x:Name="SwitchTrack" CornerRadius="14" Background="{DynamicResource SwitchTrackOff}"/>
											<Border x:Name="SwitchThumb" Width="22" Height="22" Background="{DynamicResource SwitchThumb}" CornerRadius="11" Margin="3" HorizontalAlignment="Left"/>
										</Grid>
										<ControlTemplate.Triggers>
											<Trigger Property="IsChecked" Value="True">
												<Setter TargetName="SwitchTrack" Property="Background" Value="{DynamicResource SwitchTrackOn}"/>
												<Setter TargetName="SwitchThumb" Property="HorizontalAlignment" Value="Right"/>
											</Trigger>
											<Trigger Property="IsEnabled" Value="False">
												<Setter TargetName="SwitchTrack" Property="Background" Value="{DynamicResource SwitchTrackDisabled}"/>
												<Setter TargetName="SwitchThumb" Property="Background" Value="{DynamicResource SwitchThumbDisabled}"/>
											</Trigger>
										</ControlTemplate.Triggers>
									</ControlTemplate>
								</ToggleButton.Template>
							</ToggleButton>
						</StackPanel>
						
						<!-- Minimize on Close -->
						<StackPanel Orientation="Horizontal" Margin="0,12,0,0" VerticalAlignment="Center">
							<TextBlock Text="Kapatırken simge durumuna küçült" VerticalAlignment="Center" Margin="0,0,12,0" FontFamily="Segoe UI" FontSize="14" Foreground="{DynamicResource TextColorPrimary}"/>
							<ToggleButton x:Name="TglMinimizeOnClose" Width="54" Height="28" Cursor="Hand">
								<ToggleButton.Template>
									<ControlTemplate TargetType="ToggleButton">
										<Grid>
											<Border x:Name="SwitchTrack" CornerRadius="14" Background="{DynamicResource SwitchTrackOff}"/>
											<Border x:Name="SwitchThumb" Width="22" Height="22" Background="{DynamicResource SwitchThumb}" CornerRadius="11" Margin="3" HorizontalAlignment="Left"/>
										</Grid>
										<ControlTemplate.Triggers>
											<Trigger Property="IsChecked" Value="True">
												<Setter TargetName="SwitchTrack" Property="Background" Value="{DynamicResource SwitchTrackOn}"/>
												<Setter TargetName="SwitchThumb" Property="HorizontalAlignment" Value="Right"/>
											</Trigger>
											<Trigger Property="IsEnabled" Value="False">
												<Setter TargetName="SwitchTrack" Property="Background" Value="{DynamicResource SwitchTrackDisabled}"/>
												<Setter TargetName="SwitchThumb" Property="Background" Value="{DynamicResource SwitchThumbDisabled}"/>
											</Trigger>
										</ControlTemplate.Triggers>
									</ControlTemplate>
								</ToggleButton.Template>
							</ToggleButton>
						</StackPanel>
					</StackPanel>
				</Border>

				<Border Style="{StaticResource CleanCard}">
					<StackPanel>
						<TextBlock Text="Yönetici Modu" FontFamily="Segoe UI" FontSize="14" FontWeight="SemiBold" Foreground="{DynamicResource TextColorSecondary}"/>
						<StackPanel Orientation="Horizontal" Margin="0,12,0,0" VerticalAlignment="Center">
							<TextBlock Text="Mevcut oturum:" VerticalAlignment="Center" Margin="0,0,8,0" FontFamily="Segoe UI" FontSize="14" Foreground="{DynamicResource TextColorPrimary}"/>
							<TextBlock x:Name="TxtSessionRole" VerticalAlignment="Center" FontFamily="Segoe UI" FontSize="14" FontWeight="SemiBold" Foreground="{DynamicResource TextColorPrimary}"/>
						</StackPanel>
						<StackPanel Orientation="Horizontal" Margin="0,8,0,0">
							<Button x:Name="BtnRelaunchAsAdmin" Content="Yönetici Olarak Yeniden Başlat" Padding="14,8" Style="{StaticResource PrimaryButton}"/>
							<Button x:Name="BtnRelaunchNormal" Content="Normal Modda Yeniden Başlat" Padding="14,8" Margin="8,0,0,0" Style="{StaticResource SecondaryButton}"/>
						</StackPanel>
						<TextBlock Text="Bazı modüller yönetici izni gerektirir. Bu işlem uygulamayı kapatıp yeniden açar." FontSize="11" Foreground="{DynamicResource TextColorSecondary}" Margin="0,8,0,0"/>
					</StackPanel>
				</Border>

				<Border Style="{StaticResource CleanCard}">
					<StackPanel>
						<TextBlock Text="Önbellek" FontFamily="Segoe UI" FontSize="14" FontWeight="SemiBold" Foreground="{DynamicResource TextColorSecondary}"/>
						<StackPanel Orientation="Horizontal" Margin="0,12,0,0">
							<Button x:Name="BtnClearDashboardCache" Content="Dashboard önbelleğini temizle" Padding="14,8" Margin="0,0,12,0" Style="{StaticResource SecondaryButton}"/>
							<Button x:Name="BtnOpenSettingsFolder" Content="Ayarlar klasörünü aç" Padding="14,8" Style="{StaticResource SecondaryButton}"/>
						</StackPanel>
					</StackPanel>
				</Border>
			</StackPanel>
		</Grid>
	</ScrollViewer>
</UserControl>


